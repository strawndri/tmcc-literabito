{% extends 'base.html' %}
{% load static %}
{% block conteudo %}
<head>
<title>Minhas pastas | Voculary</title>
<link rel="stylesheet" href="{% static 'styles/meus_textos.css' %}">
</head>
<section class="conteudo padding">
<h2 class="conteudo__titulo-principal">Meus textos</h2>
<p class="conteudo__descricao">Espaço único para você guardar e organizar seus textos e suas imagens.</p>
    <table class="tabela">
        <thead class="tabela__header">
            <tr>
                <th class="checkbox"></th> <!-- Coluna de checkbox -->
                <th class="imagem"></th>
                <th class="nome-arquivo">Nome do texto</td>
                <th class="data-criacao">Data de criação</td>
                <th class="excluir"></td>
                <th class="renomear"></td>
            </tr>
        </thead>
        <tbody class="tabela__body">
            {% for texto in textos %}
            <tr>
                <td class="checkbox">
                    <label class="custom-checkbox">
                        <input type="checkbox">
                        <span class="checkmark"></span>
                      </label>
                </td> <!-- Checkbox -->
                <td class="imagem"><img src="../media/{{ texto.imagem.arquivo }}"></td>
                <td class="nome-arquivo">{{texto.nome}}</td>
                <td class="data-criacao">{{texto.data_geracao|date:"d/m/Y"}}</td>
                <td class="excluir">
                    <button></button>
                </td>
                <td class="renomear">
                    <button></button>
                </td>
            </tr>
            {% endfor %}
        </tbody>
        <tfoot class="tabela__footer">
            <tr>
                <td class="anterior">
                    <a class="botao-paginacao anterior" href="{% if imagens.has_previous %}?page={{ imagens.previous_page_number }}{% endif %}">
                        <img src="{% static 'assets/icones/seta.svg' %}">
                        <p>Anterior</p>
                    </a>
                </td>
                <td class="paginas" colspan="4">
                        {% for i in imagens.paginator.page_range %}
                            {% if forloop.first or forloop.last or forloop.counter <= 3 or forloop.counter > imagens.paginator.num_pages|add:"-3" or imagens.number == i %}
                                {% if imagens.number == i %}
                                    <span class="paginas__numero atual">{{ i }}</span>
                                {% else %}
                                    <a class="paginas__numero" href="?page={{ i }}">{{ i }}</a>
                                {% endif %}
                            {% elif forloop.counter == 4 or forloop.counter == imagens.paginator.num_pages|add:"-2" %}
                                <span class="paginas__numero">...</span>
                            {% endif %}
                        {% endfor %}
                </td>
            
                <td class="proximo">
                    <a class="botao-paginacao" href="{% if imagens.has_next %}?page={{ imagens.next_page_number }}{% endif %}">
                        <p>Próximo</p>
                        <img src="{% static 'assets/icones/seta.svg' %}">
                    </a>
                </td>
            </tr>
        </tfoot>        
    </table>
</section>
{% endblock %}
